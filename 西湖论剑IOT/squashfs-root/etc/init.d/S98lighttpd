#!/bin/sh
#
# Starts lighttpd.
#
NAME=lighttpd
DAEMON=/usr/sbin/$NAME
PID_FILE="/var/run/$NAME.pid"
CONF_FILE="/etc/$NAME/$NAME.conf"

start() {
  printf "Starting lighttpd: "
    echo "uuid=aaaabbbbccccdddd" > /var/tmp/session     # The default test, you need leak uuid.
	  start-stop-daemon -S -q -p $PID_FILE --exec $DAEMON -- -f $CONF_FILE
	  echo "OK"
}
stop() {
	  printf "Stopping lighttpd: "
	  start-stop-daemon -K -q -p $PID_FILE
	  echo "OK"
}
restart() {
	stop
	start
}

case "$1" in
    start)
    start
    ;;
    stop)
    stop
    ;;
    restart|reload)
    stop
    sleep 1
    start
    ;;
  *)
    echo "Usage: $0 {start|stop|restart}"
    exit 1
esac

exit $?


